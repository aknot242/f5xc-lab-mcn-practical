<!-- score.html -->
{% extends "base.html" %}

{% block title %}{{ title }}{% endblock %}

{% block content %}
<link rel="stylesheet" href="/static/table.css">
<script>
    function clearScore(requestUrl, status) {
    // Retrieve the current cookie, assume it's base64 encoded, or default to an encoded empty object
    const base64EncodedData = getCookie('mcnp-ac-data') || btoa('{}');
    const cookieStr = atob(base64EncodedData);
    let cookieData = JSON.parse(cookieStr);

    // Clear the score
    cookieData.score = {};

    // Convert the updated cookie object back to string, then encode to base64
    const updatedStr = JSON.stringify(cookieData);
    const updatedBase64Data = btoa(updatedStr);

    // Update the cookie with the new base64 encoded data
    setCookie('mcnp-ac-data', updatedBase64Data, 1); 
    location.reload();
}
</script>
<div class="main-body">

    
<div class="text-center">
    <img src="/static/images/score-banner.png" alt="Banner" class="img-fluid lab-header">
</div>
                
<div class="d-flex align-items-center pb-3 mb-3 link-dark text-decoration-none border-bottom"></div>


<div class="container">
    <div class="row align-items-center">
        <div class="col-lg-6 col-md-12">
            <div class="table-responsive">
                {{ lb_table|safe }}
            </div>
        </div>
        <div class="col-lg-6 col-md-12">
            <div class="table-responsive">
                {{ route_table|safe }}
            </div>
        </div>
    </div>
    <div class="row align-items-center">
        <div class="col-lg-6 col-md-12">
            <div class="table-responsive">
                {{ manip_table|safe }}
            </div>
        </div>
        <div class="col-lg-6 col-md-12">
            <div class="table-responsive">
                {{ port_table|safe }}
            </div>
        </div>
    </div>
</div>


<div class="container mt-5">
    <button class="btn btn-danger" onclick="clearScore()">Clear Scores</button>
</div>
{% endblock %}

